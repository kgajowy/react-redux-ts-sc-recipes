(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,n,t){e.exports=t(47)},46:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var r,i=t(0),c=t.n(i),a=t(8),o=t.n(a),u=t(9),l=t(4),p=t(19),d=t(20),s=t(21),f=t(22),m=t(30),h=t(23),v=t(31),b=t(13),g=t.n(b),O=t(24),R=(t(29),function(e){try{return localStorage.setItem("recipes",JSON.stringify(e)),Promise.resolve(!0)}catch(n){return Promise.resolve(!1)}});!function(e){e.GetRecipes="GetRecipes",e.GetRecipesOk="GetRecipesOk",e.GetRecipesError="GetRecipesError",e.AddRecipe="AddRecipe",e.AddRecipeOk="AddRecipeOk",e.AddRecipeError="AddRecipeError",e.SaveRecipe="SaveRecipe",e.SaveRecipeOk="SaveRecipeOk",e.SaveRecipeError="SaveRecipeError",e.DeleteRecipe="DeleteRecipe",e.DeleteRecipeOk="DeleteRecipeOk",e.DeleteRecipeError="DeleteRecipeError"}(r||(r={}));var E=function(e,n){return{type:e,payload:n}},j=function(e,n){return{type:e,payload:n}},w=function(){return function(e){return function(){try{return Promise.resolve(JSON.parse(localStorage.getItem("recipes")||"[]"))}catch(e){return localStorage.clear(),Promise.resolve([])}}().then(function(n){return e((t=n,{type:r.GetRecipesOk,payload:t}));var t}).catch(function(){return e(j(r.GetRecipesError,new Error("Could not get the recipes.")))})}},y=function(e){return function(n,t){var i=t().recipes.recipes,c=i.findIndex(function(n){return n.id===e.id});return-1===c?n(j(r.SaveRecipeError,new Error("Recipe not found."))):i[c]=e,R(i).then(function(){return n(E(r.SaveRecipeOk,"Recipe saved."))}).then(function(){return n((t=e,{type:r.SaveRecipe,payload:t}));var t}).catch(function(){return n(j(r.SaveRecipeError,new Error("Could not save the recipe.")))})}},k=t(1),S=t(7),x=t(28),C=t(2);function D(){var e=Object(k.a)(["\n  cursor: pointer;\n  transition: box-shadow 400ms;\n  \n  &:checked {\n    color: black;\n  }\n  \n  &:hover {\n      box-shadow: 0 0 18px 0 rgba(0,0,0,0.75);\n  }\n"]);return D=function(){return e},e}var q=C.a.input(D());function G(){var e=Object(k.a)(["\n  font-size: 0.7rem;\n  color: white;\n"]);return G=function(){return e},e}var A=C.a.span(G());function P(){var e=Object(k.a)(["\n    width: 200px;\n    height: 1rem;\n    color: #455A64;\n    border-radius: 0.4rem;\n    padding: 0.3rem 1rem;\n    transition: box-shadow 400ms;\n    outline: none;\n    \n    &:hover {\n      box-shadow: 0.5rem 0.5rem 1.5rem;\n    }\n    \n    &::placeholder {\n      color: #B0BEC5;\n    }\n"]);return P=function(){return e},e}var z=C.a.input(P()),I=t(16),B=t(32),J=function(e){var n=e.ingredient,t=n.required,r=void 0!==t&&t,a=n.name,o=Object(B.a)(n,["required","name"]),u=e.onChange,l=Object(i.useState)(r),p=Object(S.a)(l,2),d=p[0],s=p[1],f=Object(i.useState)(a),m=Object(S.a)(f,2),h=m[0],v=m[1];return c.a.createElement("div",null,c.a.createElement(z,{value:h,type:"text",placeholder:"Ingredient name...",onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){v(e.target.value),u(Object(I.a)({},o,{name:e.target.value,required:d}))})}),c.a.createElement(q,{type:"checkbox",checked:d,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){s(e.target.checked),u(Object(I.a)({},o,{name:h,required:e.target.checked}))})}),c.a.createElement(A,null,"Required?"))};function W(){var e=Object(k.a)(["\n  font-size: 2rem;\n  height: 2.5rem;\n  \n"]);return W=function(){return e},e}function N(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return N=function(){return e},e}var M=C.a.div(N()),T=Object(C.a)(z)(W()),$=function(e){var n=e.onChange,t=e.recipe,r=function(e){console.log(e,"ingredientChange")},a=Object(i.useState)(t.name),o=Object(S.a)(a,2),u=o[0],l=o[1],p=Object(i.useRef)(null),d=Object(i.useCallback)(Object(x.a)(n,2e3),[p]);Object(i.useEffect)(function(){u!==t.name&&(t.name=u,d(t))},[u]);return c.a.createElement("div",null,c.a.createElement(T,{value:u,onChange:function(e){return l(e.target.value)}}),c.a.createElement(M,null,t.ingredients.map(function(e){return c.a.createElement(J,{key:e.id,ingredient:e,onChange:r})})))},F=Object(u.b)(function(e){return{recipes:e.recipes.recipes}},function(e){return{fetch:function(){return e(w())},edit:function(n){return e(y(n))}}})(function(e){var n=e.recipes,t=e.fetch,r=e.edit;return Object(i.useEffect)(function(){function e(){return(e=Object(O.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),c.a.createElement("div",null,c.a.createElement("h1",null,"Collection of Recipes:"),n.map(function(e){return c.a.createElement($,{key:e.id,recipe:e,onChange:r})}))}),H=function(e){function n(){return Object(s.a)(this,n),Object(m.a)(this,Object(h.a)(n).apply(this,arguments))}return Object(v.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(F,null))}}]),n}(i.Component),K=(t(46),{recipes:[{id:0,name:"pomidorowa",ingredients:[{name:"pomidory",required:!0,id:0},{name:"pieprz",id:1}]},{id:1,name:"Drugie Danie Prawdziwego Polaka",ingredients:[{name:"schabowy",required:!0,id:2},{name:"ziemniaki",required:!0,id:3}]}],pending:!1}),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;return(arguments.length>1?arguments[1]:void 0).type,e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=Object(l.combineReducers)({recipes:L}),U=Object(l.createStore)(Q,Object(p.composeWithDevTools)(Object(l.applyMiddleware)(d.a)));o.a.render(c.a.createElement(u.a,{store:U},c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.d2bf0294.chunk.js.map