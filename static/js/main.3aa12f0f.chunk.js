(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,n,t){e.exports=t(49)},48:function(e,n,t){},49:function(e,n,t){"use strict";t.r(n);var r,a=t(0),c=t.n(a),i=t(11),o=t.n(i),u=t(13),l=t(6),p=t(24),s=t(25),d=t(26),f=t(27),m=t(32),v=t(28),h=t(33),b=t(3),g=t.n(b),E=t(8),O=t(15),R=function(){try{return Promise.resolve(JSON.parse(localStorage.getItem("recipes")||"[]"))}catch(e){return localStorage.clear(),Promise.resolve([])}},w=function(e){try{return localStorage.setItem("recipes",JSON.stringify(e)),Promise.resolve(!0)}catch(n){return Promise.resolve(!1)}},y=function(){var e=Object(E.a)(g.a.mark(function e(n){var t,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t=e.sent,r=t.filter(function(e){return e.id!==n.id}),e.next=6,w(r);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=Object(E.a)(g.a.mark(function e(n){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.id=(new Date).getTime(),e.next=3,R();case 3:return t=e.sent,e.next=6,w([n].concat(Object(O.a)(t)));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(E.a)(g.a.mark(function e(n){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return t=e.sent,e.next=5,w(t.map(function(e){return e.id===n.id?n:e}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();!function(e){e.GetRecipes="GetRecipes",e.GetRecipesOk="GetRecipesOk",e.GetRecipesError="GetRecipesError",e.AddRecipe="AddRecipe",e.AddRecipeOk="AddRecipeOk",e.AddRecipeError="AddRecipeError",e.SaveRecipe="SaveRecipe",e.SaveRecipeOk="SaveRecipeOk",e.SaveRecipeError="SaveRecipeError",e.DeleteRecipe="DeleteRecipe",e.DeleteRecipeOk="DeleteRecipeOk",e.DeleteRecipeError="DeleteRecipeError"}(r||(r={}));var k=function(e,n){return{type:e,payload:n}},S=function(e,n){return{type:e,payload:n}},C=function(){return function(e){return R().then(function(n){return e((t=n,{type:r.GetRecipesOk,payload:t}));var t}).catch(function(){return e(S(r.GetRecipesError,new Error("Could not get the recipes.")))})}},D=function(e){return function(n){return x(e).then(function(){return n((t=e,{type:r.SaveRecipe,payload:t}));var t}).then(function(){return n(k(r.SaveRecipeOk,"Recipe saved."))}).catch(function(){return n(S(r.SaveRecipeError,new Error("Could not save the recipe.")))})}},A=function(e){return function(n){return j(e).then(function(e){return n((t=e,{type:r.AddRecipe,payload:t}));var t}).then(function(){return n(k(r.AddRecipeOk,"Recipe added."))}).catch(function(){return n(S(r.SaveRecipeError,new Error("Could not save the recipe.")))})}},G=function(e){return function(n){return y(e).then(function(){return n((t=e,{type:r.DeleteRecipe,payload:t}));var t}).then(function(){return n(k(r.DeleteRecipeOk,"Recipe removed."))}).catch(function(){return n(S(r.DeleteRecipeError,new Error("Could not remove the recipe.")))})}},P=t(1),N=t(16),I=t(51),q=t(2);function B(){var e=Object(P.a)(["\n    width: 200px;\n    height: 1rem;\n    color: #455A64;\n    border-radius: 0.4rem;\n    padding: 0.3rem 1rem;\n    transition: box-shadow 400ms;\n    outline: none;\n    \n    &:hover {\n      box-shadow: 0.5rem 0.5rem 1.5rem;\n    }\n    \n    &::placeholder {\n      color: #B0BEC5;\n    }\n"]);return B=function(){return e},e}var J=q.a.input(B());function T(){var e=Object(P.a)(["\n  display: inline;\n"]);return T=function(){return e},e}function V(){var e=Object(P.a)(["\n  font-size: 1.3rem;\n  color: transparent;\n  text-shadow: 0 0 0 white;\n  vertical-align: middle;\n  padding-left: 10px;\n  cursor: pointer;\n  \n  &:hover {\n    text-shadow: 0 0 0 forestgreen;\n  }\n"]);return V=function(){return e},e}var W=function(e){var n=e.onSubmit,t=e.defaultValue,r=void 0===t?"":t,c=e.className,i=e.inputProps,o=e.clearAfterSubmit,u=void 0!==o&&o,l=e.autoSave,p=void 0!==l&&l,s=Object(a.useState)(r),d=Object(N.a)(s,2),f=d[0],m=d[1],v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||f;""!==e&&(n(e),u&&m(""))},h=Object(a.useRef)(null),b=Object(a.useCallback)(Object(I.a)(v,2e3),[h]);Object(a.useEffect)(function(){p&&f!==r&&b(f)},[f,p]);return a.createElement(F,null,a.createElement(J,Object.assign({},i,{onChange:function(e){return m(e.target.value)},value:f,onKeyPress:function(e){"Enter"===e.key&&(v(),b.cancel())},className:c})),!p&&a.createElement(z,{onClick:function(){return v()}},"\u2795"))},z=q.a.span(V()),F=q.a.div(T()),K=function(e){var n=e.add;return a.createElement(W,{onSubmit:function(e){return n({name:e,ingredients:[]})},clearAfterSubmit:!0,inputProps:{placeholder:"New recipe..."}})};function M(){var e=Object(P.a)(["\n    cursor: pointer;\n    padding: 10px;\n    vertical-align: super;\n    color: transparent;\n    text-shadow:  0 0 0 white;\n    \n    &:hover {\n      text-shadow: 0 0 0 red;\n    }\n"]);return M=function(){return e},e}var $=function(e){return a.createElement(H,e,"\u274c")},H=q.a.span(M()),L=t(50);function Q(){var e=Object(P.a)(["\n  cursor: pointer;\n  transition: box-shadow 400ms;\n  \n  &:checked {\n    color: black;\n  }\n  \n  &:hover {\n      box-shadow: 0 0 18px 0 rgba(0,0,0,0.75);\n  }\n"]);return Q=function(){return e},e}var U=q.a.input(Q());function X(){var e=Object(P.a)(["\n  font-size: 0.7rem;\n  color: white;\n"]);return X=function(){return e},e}var Y=q.a.span(X());function Z(){var e=Object(P.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Z=function(){return e},e}var _=q.a.div(Z()),ee=function(e){var n=e.ingredient,t=e.onChange,r=e.onDelete,i=Object(a.useState)(n.required),o=Object(N.a)(i,2),u=o[0],l=o[1];return c.a.createElement("div",null,c.a.createElement(_,null,c.a.createElement(W,{defaultValue:n.name,autoSave:!0,onSubmit:function(e){n.name=e,t(n)},inputProps:{placeholder:"Ingredient name..."}}),c.a.createElement($,{onClick:function(){return r(n)}})),c.a.createElement(U,{type:"checkbox",checked:u,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){l(e.target.checked),n.required=e.target.checked,t(n)})}),c.a.createElement(Y,null,"Required?"))},ne=function(e){var n=e.add;return a.createElement(W,{onSubmit:function(e){return n({name:e})},clearAfterSubmit:!0,inputProps:{placeholder:"Type new ingredient name..."}})};function te(){var e=Object(P.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return te=function(){return e},e}function re(){var e=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 0 30px 30px;\n"]);return re=function(){return e},e}var ae=q.a.div(re()),ce=q.a.div(te()),ie=function(e){var n=e.onChange,t=e.recipe,r=e.removeElement,a=function(){n(t)},i=function(e){t.ingredients=t.ingredients.filter(function(n){return n.id!==e.id}),n(t)};return c.a.createElement("div",null,c.a.createElement(ce,null,c.a.createElement(W,{onSubmit:function(e){t.name=e,n(t)},defaultValue:t.name,autoSave:!0}),r),c.a.createElement(ae,null,c.a.createElement(ne,{add:function(e){t.ingredients.push(e),n(t)}}),t.ingredients.map(function(e){return c.a.createElement(ee,{key:Object(L.a)(e.name),ingredient:e,onChange:a,onDelete:i})})))};function oe(){var e=Object(P.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 310px);\n  grid-gap: 30px;\n  justify-content: center;\n"]);return oe=function(){return e},e}var ue=function(e){var n=e.recipes,t=e.edit,r=e.remove;return c.a.createElement(le,null,n.map(function(e){return c.a.createElement(ie,{key:e.id,recipe:e,onChange:t,removeElement:c.a.createElement($,{onClick:function(){return r(e)}})})}))},le=q.a.div(oe()),pe=Object(u.b)(function(e){return{recipes:e.recipes.recipes}},function(e){return{fetch:function(){return e(C())},edit:function(n){return e(D(n))},add:function(n){return e(A(n))},remove:function(n){return e(G(n))}}})(function(e){var n=e.recipes,t=e.fetch,r=e.edit,i=e.remove,o=e.add;return Object(a.useEffect)(function(){function e(){return(e=Object(E.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"New Recipe:"),c.a.createElement(K,{add:o}),c.a.createElement("h1",null,"Collection of Recipes:"),c.a.createElement(ue,{edit:r,remove:i,recipes:n}))}),se=function(e){function n(){return Object(d.a)(this,n),Object(m.a)(this,Object(v.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,"New items require pressing enter or clicking on plus sign to be added."),c.a.createElement("li",null,"Editing existing items has 'autosave' (with debounce) feature")),c.a.createElement(pe,null))}}]),n}(a.Component),de=(t(48),t(10)),fe={recipes:[],pending:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.GetRecipesOk:return Object(de.a)({},e,{recipes:n.payload});case r.DeleteRecipe:return Object(de.a)({},e,{recipes:e.recipes.filter(function(e){return e.id!==n.payload.id})});case r.AddRecipe:return Object(de.a)({},e,{recipes:[n.payload].concat(Object(O.a)(e.recipes))});case r.SaveRecipe:var t=e.recipes.findIndex(function(e){return e.id===n.payload.id});return Object(de.a)({},e,{recipes:e.recipes.map(function(e,r){return r===t?n.payload:e})});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=Object(l.combineReducers)({recipes:me}),he=Object(l.createStore)(ve,Object(p.composeWithDevTools)(Object(l.applyMiddleware)(s.a)));o.a.render(c.a.createElement(u.a,{store:he},c.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.3aa12f0f.chunk.js.map