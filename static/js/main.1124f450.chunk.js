(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,n,t){e.exports=t(46)},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r,c=t(0),a=t.n(c),i=t(11),o=t.n(i),u=t(12),p=t(5),l=t(21),s=t(22),d=t(23),f=t(24),v=t(30),m=t(25),h=t(31),b=t(4),O=t.n(b),E=t(9),g=t(13),R=function(e){try{return localStorage.setItem("recipes",JSON.stringify(e)),Promise.resolve(!0)}catch(n){return Promise.resolve(!1)}},j=function(){var e=Object(E.a)(O.a.mark(function e(n,t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=(new Date).getTime(),e.abrupt("return",R([t].concat(Object(g.a)(n))).then(function(){return t}));case 2:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),w=function(){var e=Object(E.a)(O.a.mark(function e(n,t){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==(r=n.findIndex(function(e){return e.id===t.id}))){e.next=5;break}throw new Error("Recipe not found.");case 5:n[r]=t;case 6:return e.abrupt("return",R(n));case 7:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}();!function(e){e.GetRecipes="GetRecipes",e.GetRecipesOk="GetRecipesOk",e.GetRecipesError="GetRecipesError",e.AddRecipe="AddRecipe",e.AddRecipeOk="AddRecipeOk",e.AddRecipeError="AddRecipeError",e.SaveRecipe="SaveRecipe",e.SaveRecipeOk="SaveRecipeOk",e.SaveRecipeError="SaveRecipeError",e.DeleteRecipe="DeleteRecipe",e.DeleteRecipeOk="DeleteRecipeOk",e.DeleteRecipeError="DeleteRecipeError"}(r||(r={}));var y=function(e,n){return{type:e,payload:n}},k=function(e,n){return{type:e,payload:n}},S=function(){return function(e){return function(){try{return Promise.resolve(JSON.parse(localStorage.getItem("recipes")||"[]"))}catch(e){return localStorage.clear(),Promise.resolve([])}}().then(function(n){return e((t=n,{type:r.GetRecipesOk,payload:t}));var t}).catch(function(){return e(k(r.GetRecipesError,new Error("Could not get the recipes.")))})}},x=function(e){return function(n,t){var c=t().recipes.recipes;return w(c,e).then(function(){return n((t=e,{type:r.SaveRecipe,payload:t}));var t}).then(function(){return n(y(r.SaveRecipeOk,"Recipe saved."))}).catch(function(){return n(k(r.SaveRecipeError,new Error("Could not save the recipe.")))})}},C=function(e){return function(n,t){var c=t().recipes.recipes;return j(c,e).then(function(e){return n((t=e,{type:r.AddRecipe,payload:t}));var t}).then(function(){return n(y(r.AddRecipeOk,"Recipe added."))}).catch(function(){return n(k(r.SaveRecipeError,new Error("Could not save the recipe.")))})}},D=function(e){return function(n,t){return function(e,n){var t=e.filter(function(e){return e.id!==n.id});return R(t)}(t().recipes.recipes,e).then(function(){return n((t=e,{type:r.DeleteRecipe,payload:t}));var t}).then(function(){return n(y(r.DeleteRecipeOk,"Recipe removed."))}).catch(function(){return n(k(r.DeleteRecipeError,new Error("Could not remove the recipe.")))})}},A=t(1),G=t(2);function I(){var e=Object(A.a)(["\n    cursor: pointer;\n    padding: 10px;\n    vertical-align: super;\n    color: transparent;\n    text-shadow:  0 0 0 white;\n    \n    &:hover {\n      text-shadow: 0 0 0 red;\n    }\n"]);return I=function(){return e},e}var N=function(e){return c.createElement(P,e,"\u274c")},P=G.a.span(I()),B=t(6);function J(){var e=Object(A.a)(["\n    width: 200px;\n    height: 1rem;\n    color: #455A64;\n    border-radius: 0.4rem;\n    padding: 0.3rem 1rem;\n    transition: box-shadow 400ms;\n    outline: none;\n    \n    &:hover {\n      box-shadow: 0.5rem 0.5rem 1.5rem;\n    }\n    \n    &::placeholder {\n      color: #B0BEC5;\n    }\n"]);return J=function(){return e},e}var q=G.a.input(J());function z(){var e=Object(A.a)(["\n  font-size: 1.3rem;\n  color: transparent;\n  text-shadow: 0 0 0 white;\n  vertical-align: middle;\n  padding-left: 10px;\n  cursor: pointer;\n  \n  &:hover {\n    text-shadow: 0 0 0 forestgreen;\n  }\n"]);return z=function(){return e},e}var W=function(e){var n=e.onSubmit,t=e.className,r=Object(c.useState)(""),a=Object(B.a)(r,2),i=a[0],o=a[1],u=function(){""!==i&&(n(i),o(""))};return c.createElement("div",null,c.createElement(q,{onChange:function(e){return o(e.target.value)},value:i,onKeyPress:function(e){"Enter"===e.key&&u()},className:t}),c.createElement(T,{onClick:u},"\u2795"))},T=G.a.span(z()),K=function(e){var n=e.add;return c.createElement(W,{onSubmit:function(e){return n({name:e,ingredients:[]})}})},M=t(29);function $(){var e=Object(A.a)(["\n  cursor: pointer;\n  transition: box-shadow 400ms;\n  \n  &:checked {\n    color: black;\n  }\n  \n  &:hover {\n      box-shadow: 0 0 18px 0 rgba(0,0,0,0.75);\n  }\n"]);return $=function(){return e},e}var F=G.a.input($());function H(){var e=Object(A.a)(["\n  font-size: 0.7rem;\n  color: white;\n"]);return H=function(){return e},e}var L=G.a.span(H()),Q=function(e){var n=e.ingredient,t=e.onChange,r=Object(c.useState)(n.required),i=Object(B.a)(r,2),o=i[0],u=i[1],p=Object(c.useState)(n.name),l=Object(B.a)(p,2),s=l[0],d=l[1];return a.a.createElement("div",null,a.a.createElement(q,{value:s,type:"text",placeholder:"Ingredient name...",onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){d(e.target.value),n.name=e.target.value,t(n)})}),a.a.createElement(F,{type:"checkbox",checked:o,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){u(e.target.checked),n.required=e.target.checked,t(n)})}),a.a.createElement(L,null,"Required?"))},U=function(e){var n=e.add;return c.createElement(W,{onSubmit:function(e){return n({name:e})}})};function V(){var e=Object(A.a)(["\n  font-size: 2rem;\n  height: 2.5rem;\n  \n"]);return V=function(){return e},e}function X(){var e=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 0 30px 30px;\n"]);return X=function(){return e},e}var Y=G.a.div(X()),Z=Object(G.a)(q)(V()),_=function(e){var n=e.onChange,t=e.recipe,r=e.removeElement,i=function(e){n(t)},o=Object(c.useState)(t.name),u=Object(B.a)(o,2),p=u[0],l=u[1],s=Object(c.useRef)(null),d=Object(c.useCallback)(Object(M.a)(n,2e3),[s]);Object(c.useEffect)(function(){p!==t.name&&(t.name=p,d(t))},[p]);return a.a.createElement("div",null,a.a.createElement(Z,{value:p,onChange:function(e){return l(e.target.value)}}),r,a.a.createElement(Y,null,a.a.createElement(U,{add:function(e){t.ingredients.push(e),n(t)}}),t.ingredients.map(function(e){return a.a.createElement(Q,{key:e.id,ingredient:e,onChange:i})})))},ee=Object(u.b)(function(e){return{recipes:e.recipes.recipes}},function(e){return{fetch:function(){return e(S())},edit:function(n){return e(x(n))},add:function(n){return e(C(n))},remove:function(n){return e(D(n))}}})(function(e){var n=e.recipes,t=e.fetch,r=e.edit,i=e.remove,o=e.add;return Object(c.useEffect)(function(){function e(){return(e=Object(E.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),a.a.createElement("div",null,a.a.createElement("h1",null,"New Recipe:"),a.a.createElement(K,{add:o}),a.a.createElement("h1",null,"Collection of Recipes:"),n.map(function(e){return a.a.createElement(_,{key:e.id,recipe:e,onChange:r,removeElement:a.a.createElement(N,{onClick:function(){return i(e)}})})}))}),ne=function(e){function n(){return Object(d.a)(this,n),Object(v.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(f.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(ee,null))}}]),n}(c.Component),te=(t(45),t(10)),re={recipes:[],pending:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.GetRecipesOk:return Object(te.a)({},e,{recipes:n.payload});case r.DeleteRecipe:return Object(te.a)({},e,{recipes:e.recipes.filter(function(e){return e.id!==n.payload.id})});case r.AddRecipe:return Object(te.a)({},e,{recipes:[n.payload].concat(Object(g.a)(e.recipes))});case r.SaveRecipe:var t=e.recipes.findIndex(function(e){return e.id===n.payload.id});return Object(te.a)({},e,{recipes:e.recipes.map(function(e,r){return r===t?n.payload:e})});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=Object(p.combineReducers)({recipes:ce}),ie=Object(p.createStore)(ae,Object(l.composeWithDevTools)(Object(p.applyMiddleware)(s.a)));o.a.render(a.a.createElement(u.a,{store:ie},a.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.1124f450.chunk.js.map